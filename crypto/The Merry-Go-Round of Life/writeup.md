The cosmic dance function performs swaps with increasing step sizes, and for each step size each character undergoes exactly one swaps. Characters that were swapped with the next kth element were not swapped again. 
The ultimate_answer variable is 42, and the wheel_of_fate variable is the length of the scrambled string. 
Reverse this process with a script (Refer to solution.py) to obtain the flag "grifflesCTF{h3r3_w3_g0_4g@1n_7A#kL$9@zP!Y2Q5vN%F1&G3~W8?J4+R0xB6*T9$K#m}". 
